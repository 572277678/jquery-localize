<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">

  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
    <title>Localize Test</title>
    <script src="../lib/jquery-1.2.6.min.js" type="text/javascript" charset="utf-8"></script>
    <script src="../src/jquery.localize.js" type="text/javascript" charset="utf-8"></script>
  </head>

  <body>
    <h1>Test localization...</h1>
    <p rel="localize[test.puts]">puts 2 + 2</p>
    <p rel="localize[test.array]">foo = %w(a b c)</p>
    <p rel="localize[test.iteration]">foo.each { |n| puts "Got #{n}" }</p>
    <p rel="localize[message]">It failed :(</p>
    <script type="text/javascript" charset="utf-8">
      $(function(){
        var opts = { language: "ja", pathPrefix: "lang", skipLanguage: "en-US" };
        opts.callback = function(data, defaultCallback) {
          data.message = "Optional call back works."
          $("[rel*=message]").css({color: "#FF8833"})
          defaultCallback(data);
        }
        $("[rel*=localize]").localize("test", opts)
      })
    </script>
  </body>
  
</html>
